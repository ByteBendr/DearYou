<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <title>üíåDearYouüíå</title>
  <meta name="description" content="DearYou - A clean, professional messaging platform for anonymous communication. Send messages, build conversations, and connect authentically.">
  <meta name="keywords" content="professional messaging, anonymous messages, DearYou, secure messaging, communication platform">
  <meta property="og:title" content="DearYou - Professional Messaging">
  <meta property="og:description" content="Clean, professional anonymous messaging platform">
  <meta property="og:type" content="website">
  <meta name="theme-color" content="#2D3748">
  
  <style>
    :root {
      --primary: #2D3748;
      --primary-light: #4A5568;
      --accent: #4299E1;
      --accent-hover: #3182CE;
      --background: #F7FAFC;
      --surface: #FFFFFF;
      --border: #E2E8F0;
      --text-primary: #1A202C;
      --text-secondary: #718096;
      --text-muted: #A0AEC0;
      --success: #48BB78;
      --warning: #ECC94B;
      --danger: #F56565;
      --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--background);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }
    
    .container {
      max-width: 680px;
      margin: 0 auto;
      background: var(--surface);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    /* Header */
    .header {
      background: var(--primary);
      color: white;
      padding: 16px 20px;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: var(--shadow-lg);
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .header h1 {
      font-size: 20px;
      font-weight: 600;
      letter-spacing: -0.02em;
    }
    
    .header-user {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.8);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .menu-btn {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }
    
    /* Filter Panel */
    .filter-panel {
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      padding: 12px 16px;
      display: none;
      flex-direction: column;
      gap: 10px;
      animation: slideDown 0.2s ease;
    }
    
    .filter-panel.active {
      display: flex;
    }
    
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .filter-row {
      display: flex;
      gap: 8px;
    }
    
    .filter-panel input,
    .filter-panel select {
      flex: 1;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 14px;
      background: var(--surface);
      color: var(--text-primary);
      outline: none;
      transition: all 0.2s;
    }
    
    .filter-panel input:focus,
    .filter-panel select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
    }
    
    .action-btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
    }
    
    .action-btn:active {
      transform: scale(0.98);
    }
    
    .action-btn.secondary {
      background: var(--background);
      color: var(--text-primary);
    }
    
    /* Messages Container */
    .messages {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
      background: var(--background);
    }
    
    .messages::-webkit-scrollbar {
      width: 6px;
    }
    
    .messages::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 3px;
    }
    
    /* Message Card */
    .message-card {
      background: var(--surface);
      border-radius: 12px;
      margin-bottom: 12px;
      box-shadow: var(--shadow);
      overflow: hidden;
      animation: fadeInUp 0.3s ease;
      border: 1px solid var(--border);
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .message-card.pinned {
      border-left: 3px solid var(--accent);
    }
    
    .message-header {
      padding: 12px 16px;
      background: var(--background);
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border);
    }
    
    .message-meta {
      flex: 1;
      min-width: 0;
    }
    
    .message-names {
      font-size: 13px;
      font-weight: 500;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 2px;
    }
    
    .message-names .arrow {
      color: var(--text-muted);
      font-size: 11px;
    }
    
    .message-timestamp {
      font-size: 12px;
      color: var(--text-muted);
    }
    
    .message-tag {
      background: var(--accent);
      color: white;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 500;
      white-space: nowrap;
    }
    
    .message-body {
      padding: 16px;
    }
    
    .message-content {
      font-size: 15px;
      color: var(--text-primary);
      line-height: 1.6;
      word-wrap: break-word;
      white-space: pre-wrap;
    }
    
    .message-expires {
      margin-top: 8px;
      font-size: 12px;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .message-actions {
      display: flex;
      padding: 8px 12px;
      border-top: 1px solid var(--border);
      gap: 4px;
    }
    
    .action-icon {
      background: none;
      border: none;
      color: var(--text-secondary);
      padding: 8px 12px;
      cursor: pointer;
      font-size: 14px;
      border-radius: 6px;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .action-icon:active {
      transform: scale(0.95);
      background: var(--background);
    }
    
    .action-icon.active {
      color: var(--accent);
    }
    
    .reaction-count {
      font-size: 12px;
      font-weight: 500;
    }
    
    /* Replies */
    .replies {
      margin: 0 16px 12px 16px;
      padding: 12px;
      background: var(--background);
      border-radius: 8px;
      border-left: 2px solid var(--border);
    }
    
    .reply-item {
      padding: 10px;
      background: var(--surface);
      border-radius: 6px;
      margin-bottom: 8px;
      font-size: 14px;
    }
    
    .reply-item:last-child {
      margin-bottom: 0;
    }
    
    .reply-header {
      font-size: 12px;
      color: var(--text-secondary);
      margin-bottom: 4px;
      font-weight: 500;
    }
    
    .reply-content {
      color: var(--text-primary);
    }
    
    /* Compose */
    .compose {
      background: var(--surface);
      border-top: 1px solid var(--border);
      padding: 16px;
      position: sticky;
      bottom: 0;
      transition: transform 0.3s ease;
      z-index: 100;
    }
    
    .compose-toggle-wrapper {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 101;
      align-items: center;
      gap: 12px;
      transition: all 0.3s ease;
    }
    
    .compose-toggle {
      width: 56px;
      height: 56px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      transition: all 0.3s ease;
      flex-shrink: 0;
    }
    
    .compose-toggle:active {
      transform: scale(0.95);
    }
    
    .compose-label {
      background: var(--surface);
      color: var(--text-primary);
      padding: 10px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 500;
      box-shadow: var(--shadow-lg);
      white-space: nowrap;
      animation: slideInRight 0.3s ease;
    }
    
    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .compose-backdrop {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 98;
      backdrop-filter: blur(2px);
    }
    
    @media (max-width: 768px) {
      .compose-backdrop.active {
        display: block;
        animation: fadeIn 0.2s ease;
      }
      
      .compose-toggle-wrapper {
        display: flex;
      }
    }
    
    .compose-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .compose-header {
      font-size: 13px;
      color: var(--text-secondary);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .compose-header button {
      background: none;
      border: none;
      color: var(--accent);
      font-size: 13px;
      cursor: pointer;
      padding: 4px;
    }
    
    .compose-row {
      display: flex;
      gap: 8px;
    }
    
    .compose input,
    .compose textarea,
    .compose select {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
      background: var(--surface);
      color: var(--text-primary);
      outline: none;
      transition: all 0.2s;
    }
    
    .compose input:focus,
    .compose textarea:focus,
    .compose select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
    }
    
    .compose textarea {
      resize: none;
      min-height: 70px;
    }
    
    .compose-footer {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    .expiry-group {
      display: flex;
      gap: 8px;
      flex: 1;
      align-items: center;
    }
    
    .expiry-group label {
      font-size: 13px;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }
    
    .expiry-group input[type="checkbox"] {
      width: auto;
    }
    
    .expiry-group input[type="number"] {
      width: 70px;
      padding: 8px;
    }
    
    .send-btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.2s;
    }
    
    .send-btn:active {
      transform: scale(0.98);
      background: var(--accent-hover);
    }
    
    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 20px;
      backdrop-filter: blur(4px);
    }
    
    .modal.active {
      display: flex;
      animation: fadeIn 0.2s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .modal-content {
      background: var(--surface);
      padding: 32px 24px;
      border-radius: 16px;
      max-width: 400px;
      width: 100%;
      box-shadow: var(--shadow-lg);
      animation: scaleIn 0.2s ease;
    }
    
    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    .modal-content h2 {
      font-size: 24px;
      margin-bottom: 8px;
      color: var(--text-primary);
      font-weight: 600;
    }
    
    .modal-content p {
      color: var(--text-secondary);
      margin-bottom: 24px;
      font-size: 14px;
      line-height: 1.5;
    }
    
    .modal-content input {
      width: 100%;
      padding: 14px;
      border: 2px solid var(--border);
      border-radius: 8px;
      font-size: 15px;
      margin-bottom: 20px;
      outline: none;
      transition: all 0.2s;
    }
    
    .modal-content input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
    }
    
    .modal-content button {
      width: 100%;
      padding: 14px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .modal-content button:active {
      transform: scale(0.98);
    }
    
    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 60px 24px;
      color: var(--text-muted);
    }
    
    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }
    
    .empty-state h3 {
      font-size: 18px;
      margin-bottom: 8px;
      color: var(--text-secondary);
      font-weight: 600;
    }
    
    .empty-state p {
      font-size: 14px;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .compose {
        transform: translateY(100%);
      }
      
      .compose.active {
        transform: translateY(0);
      }
      
      .compose-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .compose-toggle-wrapper.hidden {
        display: none !important;
      }
    }
    
    @media (max-width: 480px) {
      .header h1 {
        font-size: 18px;
      }
      
      .header-user {
        font-size: 12px;
      }
      
      .filter-row {
        flex-direction: column;
      }
      
      .compose-footer {
        flex-direction: column;
        align-items: stretch;
      }
      
      .expiry-group {
        flex-direction: column;
        align-items: stretch;
      }
      
      .expiry-group label {
        justify-content: flex-start;
      }
      
      .expiry-group input[type="number"] {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="header-content">
        <h1>DearYou üíå</h1>
        <div class="header-user">
          <span id="currentUser"></span>
          <button class="menu-btn" id="menuBtn">‚ò∞</button>
        </div>
      </div>
    </div>
    
    <!-- Filter Panel -->
    <div class="filter-panel" id="filterPanel">
      <input type="text" id="searchInput" placeholder="Search messages...">
      <div class="filter-row">
        <select id="sortSelect">
          <option value="newest">Newest First</option>
          <option value="oldest">Oldest First</option>
        </select>
        <select id="filterName">
          <option value="">All Users</option>
        </select>
      </div>
      <div class="filter-row">
        <select id="filterTag">
          <option value="">All Categories</option>
          <option value="Confession">Confession</option>
          <option value="Compliment">Compliment</option>
          <option value="Question">Question</option>
          <option value="Other">Other</option>
        </select>
        <button class="action-btn secondary" id="exportBtn">Export</button>
      </div>
    </div>
    
    <!-- Messages -->
    <div class="messages" id="messagesContainer">
      <div class="empty-state">
        <div class="empty-state-icon">üí¨</div>
        <h3>No messages yet</h3>
        <p>Start a conversation below</p>
      </div>
    </div>
    
    <!-- Compose -->
    <div class="compose" id="composeArea">
      <form class="compose-form" id="composeForm">
        <div class="compose-header">
          <span id="composeMode">New Message</span>
          <button type="button" id="cancelReply" style="display: none;">Cancel</button>
        </div>
        <input type="text" id="toInput" placeholder="To (name)" required>
        <select id="tagSelect">
          <option value="">Category (optional)</option>
          <option value="Confession">Confession</option>
          <option value="Compliment">Compliment</option>
          <option value="Question">Question</option>
          <option value="Other">Other</option>
        </select>
        <textarea id="messageInput" placeholder="Your message..." required></textarea>
        <div class="compose-footer">
          <div class="expiry-group">
            <label>
              <input type="checkbox" id="expiryCheck">
              Expire after
            </label>
            <input type="number" id="expiryDays" min="1" max="365" value="30" placeholder="Days" disabled>
            <span style="font-size: 13px; color: var(--text-muted);">days</span>
          </div>
          <button type="submit" class="send-btn">Send</button>
        </div>
      </form>
    </div>
    
    <!-- Compose Backdrop (Mobile Only) -->
    <div class="compose-backdrop" id="composeBackdrop"></div>
    
    <!-- Compose Toggle Button (Mobile Only) -->
    <div class="compose-toggle-wrapper" id="composeToggleWrapper">
      <div class="compose-label" id="composeLabel">Write a message</div>
      <button class="compose-toggle" id="composeToggle">‚Üë</button>
    </div>
  </div>
  
  <!-- Username Modal -->
  <div class="modal active" id="usernameModal">
    <div class="modal-content">
      <h2>Welcome to DearYou</h2>
      <p>Enter your name to start messaging. We recommend using your real name for authentic connections.</p>
      <input type="text" id="usernameInput" placeholder="Your name" maxlength="20" autofocus>
      <button id="usernameSubmit">Continue</button>
    </div>
  </div>

  <script type="module">
    const _0x4e9409=_0x2081;(function(_0x3ddcd3,_0x36301a){const _0x18e160=_0x2081,_0x3ecf6d=_0x3ddcd3();while(!![]){try{const _0x267a5d=-parseInt(_0x18e160(0x171))/0x1*(-parseInt(_0x18e160(0x19d))/0x2)+parseInt(_0x18e160(0x124))/0x3*(parseInt(_0x18e160(0x136))/0x4)+parseInt(_0x18e160(0x158))/0x5+parseInt(_0x18e160(0x117))/0x6*(-parseInt(_0x18e160(0x153))/0x7)+-parseInt(_0x18e160(0x168))/0x8+parseInt(_0x18e160(0x1ae))/0x9+-parseInt(_0x18e160(0x174))/0xa*(parseInt(_0x18e160(0x122))/0xb);if(_0x267a5d===_0x36301a)break;else _0x3ecf6d['push'](_0x3ecf6d['shift']());}catch(_0x3eac64){_0x3ecf6d['push'](_0x3ecf6d['shift']());}}}(_0x24ca,0xe3144));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';import{getDatabase,ref,push,set,onValue,update,remove}from'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';const firebaseConfig={'apiKey':_0x4e9409(0x178),'authDomain':_0x4e9409(0x141),'databaseURL':_0x4e9409(0x17a),'projectId':_0x4e9409(0x147),'storageBucket':_0x4e9409(0x190),'messagingSenderId':'783973697706','appId':_0x4e9409(0x151)},app=initializeApp(firebaseConfig),db=getDatabase(app);let currentUsername=localStorage[_0x4e9409(0x14f)]('dearYouUsername'),messages={},replyingTo=null;const composeToggle=document['getElementById'](_0x4e9409(0x1a6)),composeArea=document[_0x4e9409(0x126)](_0x4e9409(0x1ab)),composeBackdrop=document['getElementById']('composeBackdrop'),composeLabel=document[_0x4e9409(0x126)]('composeLabel');!currentUsername?document['getElementById']('usernameModal')[_0x4e9409(0x1aa)][_0x4e9409(0x11a)](_0x4e9409(0x197)):(document[_0x4e9409(0x126)]('currentUser')['textContent']=currentUsername,document[_0x4e9409(0x126)](_0x4e9409(0x13e))['classList']['remove'](_0x4e9409(0x197)));document[_0x4e9409(0x126)](_0x4e9409(0x1af))[_0x4e9409(0x142)](_0x4e9409(0x138),()=>{const _0x19e936=_0x4e9409,_0x597f11=document['getElementById'](_0x19e936(0x1b4))[_0x19e936(0x1bb)][_0x19e936(0x133)]();if(_0x597f11){const _0x396328=Math[_0x19e936(0x143)](0x2710+Math[_0x19e936(0x162)]()*0x15f90);currentUsername=_0x597f11+'#'+_0x396328,localStorage[_0x19e936(0x15f)](_0x19e936(0x1b1),currentUsername),document[_0x19e936(0x126)](_0x19e936(0x17f))[_0x19e936(0x13c)]=currentUsername,document['getElementById'](_0x19e936(0x13e))[_0x19e936(0x1aa)][_0x19e936(0x19a)](_0x19e936(0x197));}}),document[_0x4e9409(0x126)](_0x4e9409(0x181))[_0x4e9409(0x142)](_0x4e9409(0x138),()=>{const _0x1837c3=_0x4e9409;document['getElementById'](_0x1837c3(0x11b))[_0x1837c3(0x1aa)][_0x1837c3(0x16f)](_0x1837c3(0x197));}),composeToggle[_0x4e9409(0x142)](_0x4e9409(0x138),()=>{const _0x52968a=_0x4e9409,_0x2ba672=composeArea['classList'][_0x52968a(0x16f)](_0x52968a(0x197));composeBackdrop[_0x52968a(0x1aa)]['toggle']('active',_0x2ba672),composeToggle['textContent']=_0x2ba672?'‚Üì':'‚Üë',composeLabel&&window['innerWidth']<=0x300&&(composeLabel[_0x52968a(0x167)][_0x52968a(0x14a)]='none',localStorage['setItem']('dearYouComposeHintSeen',_0x52968a(0x13a))),_0x2ba672&&setTimeout(()=>{const _0x1c0c66=_0x52968a;window['scrollTo']({'top':document[_0x1c0c66(0x17b)][_0x1c0c66(0x18b)],'behavior':_0x1c0c66(0x18e)});},0x64);});localStorage[_0x4e9409(0x14f)]('dearYouComposeHintSeen')===_0x4e9409(0x13a)&&(composeLabel[_0x4e9409(0x167)][_0x4e9409(0x14a)]='none');composeBackdrop[_0x4e9409(0x142)](_0x4e9409(0x138),()=>{const _0x25bc3b=_0x4e9409;composeArea[_0x25bc3b(0x1aa)][_0x25bc3b(0x19a)](_0x25bc3b(0x197)),composeBackdrop[_0x25bc3b(0x1aa)][_0x25bc3b(0x19a)](_0x25bc3b(0x197)),composeToggle[_0x25bc3b(0x13c)]='‚Üë';}),document[_0x4e9409(0x126)](_0x4e9409(0x193))['addEventListener'](_0x4e9409(0x131),_0x504a3c=>{const _0x26ad18=_0x4e9409;document[_0x26ad18(0x126)]('expiryDays')[_0x26ad18(0x11d)]=!_0x504a3c['target']['checked'];}),onValue(ref(db,'messages'),_0x4410b8=>{messages=_0x4410b8['val']()||{},renderMessages(),updateNameFilter();}),document[_0x4e9409(0x126)](_0x4e9409(0x1ac))[_0x4e9409(0x142)](_0x4e9409(0x1a5),_0x294cf8=>{const _0x30f528=_0x4e9409;_0x294cf8[_0x30f528(0x13f)]();const _0x5045c7=document[_0x30f528(0x126)](_0x30f528(0x17d))[_0x30f528(0x1bb)]['trim'](),_0x39e666=document['getElementById'](_0x30f528(0x12f))['value'][_0x30f528(0x133)](),_0x2762e2=document[_0x30f528(0x126)](_0x30f528(0x13d))[_0x30f528(0x1bb)],_0x31f2ac=document[_0x30f528(0x126)](_0x30f528(0x193))[_0x30f528(0x140)],_0x1341a4=_0x31f2ac?parseInt(document['getElementById']('expiryDays')[_0x30f528(0x1bb)]):null;if(_0x5045c7&&_0x39e666){if(replyingTo){const _0xb8ffe7=push(ref(db,_0x30f528(0x15d)+replyingTo+'/replies'));set(_0xb8ffe7,{'from':currentUsername,'message':_0x39e666,'timestamp':Date[_0x30f528(0x1a4)]()})[_0x30f528(0x164)](_0x116b03=>{const _0x2ee5a4=_0x30f528;console[_0x2ee5a4(0x15c)](_0x2ee5a4(0x121),_0x116b03),alert(_0x2ee5a4(0x175));}),cancelReplyMode();}else{const _0x1bd72a={'from':currentUsername,'to':_0x5045c7,'message':_0x39e666,'tag':_0x2762e2,'timestamp':Date[_0x30f528(0x1a4)](),'reactions':{},'replies':{},'pinned':![],'expiryDays':_0x1341a4},_0x4b953c=push(ref(db,_0x30f528(0x1a0)));set(_0x4b953c,_0x1bd72a)[_0x30f528(0x164)](_0x4b979f=>{const _0xa68475=_0x30f528;console[_0xa68475(0x15c)](_0xa68475(0x194),_0x4b979f),alert('Failed\x20to\x20send\x20message.\x20Please\x20check\x20your\x20Firebase\x20database\x20rules.');});}document[_0x30f528(0x126)](_0x30f528(0x17d))[_0x30f528(0x1bb)]='',document[_0x30f528(0x126)](_0x30f528(0x12f))[_0x30f528(0x1bb)]='',document['getElementById'](_0x30f528(0x13d))[_0x30f528(0x1bb)]='',document[_0x30f528(0x126)](_0x30f528(0x193))['checked']=![],document[_0x30f528(0x126)](_0x30f528(0x11c))['disabled']=!![],window[_0x30f528(0x177)]<=0x300&&(composeArea['classList'][_0x30f528(0x19a)](_0x30f528(0x197)),composeBackdrop[_0x30f528(0x1aa)][_0x30f528(0x19a)](_0x30f528(0x197)),composeToggle[_0x30f528(0x13c)]='‚Üë');}}),document[_0x4e9409(0x126)](_0x4e9409(0x195))[_0x4e9409(0x142)](_0x4e9409(0x138),cancelReplyMode);function cancelReplyMode(){const _0x2035ba=_0x4e9409;replyingTo=null,document[_0x2035ba(0x126)](_0x2035ba(0x11f))[_0x2035ba(0x13c)]=_0x2035ba(0x1a3),document[_0x2035ba(0x126)]('cancelReply')[_0x2035ba(0x167)][_0x2035ba(0x14a)]=_0x2035ba(0x132),window[_0x2035ba(0x177)]<=0x300&&(composeArea[_0x2035ba(0x1aa)][_0x2035ba(0x19a)]('active'),composeBackdrop[_0x2035ba(0x1aa)]['remove'](_0x2035ba(0x197)),composeToggle[_0x2035ba(0x13c)]='‚Üë');}function renderMessages(){const _0x2a27d4=_0x4e9409,_0x4cf8df=document[_0x2a27d4(0x126)](_0x2a27d4(0x18d)),_0x11c657=document['getElementById'](_0x2a27d4(0x127))[_0x2a27d4(0x1bb)]['toLowerCase'](),_0x1be326=document[_0x2a27d4(0x126)]('sortSelect')[_0x2a27d4(0x1bb)],_0x2c3a07=document[_0x2a27d4(0x126)]('filterName')['value'],_0x24158b=document[_0x2a27d4(0x126)](_0x2a27d4(0x160))[_0x2a27d4(0x1bb)],_0x3e2777=JSON[_0x2a27d4(0x179)](localStorage['getItem'](_0x2a27d4(0x1b2))||'{}');let _0x474cc1=Object[_0x2a27d4(0x12a)](messages)['map'](([_0xdf87b1,_0x50a3c3])=>({'id':_0xdf87b1,..._0x50a3c3}));const _0x22e913=Date[_0x2a27d4(0x1a4)]();_0x474cc1[_0x2a27d4(0x156)](_0x4dd474=>{const _0x5796e7=_0x2a27d4;if(_0x4dd474['expiryDays']){const _0x118584=_0x4dd474[_0x5796e7(0x1ad)]+_0x4dd474[_0x5796e7(0x11c)]*0x18*0x3c*0x3c*0x3e8;_0x22e913>_0x118584&&remove(ref(db,_0x5796e7(0x15d)+_0x4dd474['id']))[_0x5796e7(0x164)](_0x1138b5=>{const _0xba0549=_0x5796e7;console[_0xba0549(0x15c)](_0xba0549(0x1b9),_0x1138b5);});}}),_0x474cc1=_0x474cc1[_0x2a27d4(0x189)](_0x35facd=>{const _0xa646d=_0x2a27d4,_0x420dc2=!_0x11c657||_0x35facd[_0xa646d(0x19f)]['toLowerCase']()['includes'](_0x11c657)||_0x35facd['from'][_0xa646d(0x12e)]()[_0xa646d(0x1ba)](_0x11c657)||_0x35facd['to']['toLowerCase']()[_0xa646d(0x1ba)](_0x11c657),_0x154540=!_0x2c3a07||_0x35facd[_0xa646d(0x187)]===_0x2c3a07||_0x35facd['to']===_0x2c3a07,_0x3c892b=!_0x24158b||_0x35facd[_0xa646d(0x183)]===_0x24158b;return _0x420dc2&&_0x154540&&_0x3c892b;}),_0x474cc1[_0x2a27d4(0x14d)]((_0x1c6487,_0x277647)=>{const _0x324c7d=_0x2a27d4;return _0x1be326==='newest'?_0x277647['timestamp']-_0x1c6487['timestamp']:_0x1c6487[_0x324c7d(0x1ad)]-_0x277647['timestamp'];});const _0x17c806=_0x474cc1[_0x2a27d4(0x189)](_0x1a6668=>getPinned()[_0x2a27d4(0x1ba)](_0x1a6668['id'])),_0x2ecd8b=_0x474cc1[_0x2a27d4(0x189)](_0x1c4e91=>!getPinned()[_0x2a27d4(0x1ba)](_0x1c4e91['id']));_0x474cc1=[..._0x17c806,..._0x2ecd8b];if(_0x474cc1[_0x2a27d4(0x169)]===0x0){_0x4cf8df['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-state\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22empty-state-icon\x22>üîç</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>No\x20messages\x20found</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Try\x20adjusting\x20your\x20filters</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x4cf8df['innerHTML']=_0x474cc1[_0x2a27d4(0x145)](_0x2ebaa2=>{const _0x213cfb=_0x2a27d4,_0x11450a=_0x2ebaa2[_0x213cfb(0x11c)]?Math[_0x213cfb(0x1a9)](0x0,Math[_0x213cfb(0x19b)]((_0x2ebaa2[_0x213cfb(0x1ad)]+_0x2ebaa2[_0x213cfb(0x11c)]*0x18*0x3c*0x3c*0x3e8-Date['now']())/(0x18*0x3c*0x3c*0x3e8))):null;return _0x213cfb(0x12c)+(getPinned()[_0x213cfb(0x1ba)](_0x2ebaa2['id'])?_0x213cfb(0x191):'')+_0x213cfb(0x13b)+_0x2ebaa2['id']+_0x213cfb(0x173)+_0x2ebaa2['from']+_0x213cfb(0x120)+_0x2ebaa2['to']+_0x213cfb(0x137)+formatTimestamp(_0x2ebaa2[_0x213cfb(0x1ad)])+_0x213cfb(0x17e)+(_0x2ebaa2['tag']?_0x213cfb(0x134)+_0x2ebaa2[_0x213cfb(0x183)]+_0x213cfb(0x123):'')+_0x213cfb(0x146)+_0x2ebaa2[_0x213cfb(0x19f)]+_0x213cfb(0x18c)+(_0x11450a!==null?_0x213cfb(0x1b5)+_0x11450a+_0x213cfb(0x1b3)+(_0x11450a!==0x1?'s':'')+_0x213cfb(0x11e):'')+_0x213cfb(0x119)+(_0x3e2777[_0x2ebaa2['id']+_0x213cfb(0x199)]?_0x213cfb(0x197):'')+'\x22\x20onclick=\x22react(\x27'+_0x2ebaa2['id']+_0x213cfb(0x15a)+(_0x2ebaa2[_0x213cfb(0x1b6)]?.['‚ù§Ô∏è']||0x0)+_0x213cfb(0x150)+(_0x3e2777[_0x2ebaa2['id']+_0x213cfb(0x139)]?_0x213cfb(0x197):'')+'\x22\x20onclick=\x22react(\x27'+_0x2ebaa2['id']+_0x213cfb(0x12d)+(_0x2ebaa2['reactions']?.['üëç']||0x0)+_0x213cfb(0x150)+(_0x3e2777[_0x2ebaa2['id']+'_üòä']?_0x213cfb(0x197):'')+_0x213cfb(0x182)+_0x2ebaa2['id']+_0x213cfb(0x163)+(_0x2ebaa2['reactions']?.['üòä']||0x0)+_0x213cfb(0x149)+_0x2ebaa2['id']+_0x213cfb(0x125)+(getPinned()[_0x213cfb(0x1ba)](_0x2ebaa2['id'])?_0x213cfb(0x197):'')+_0x213cfb(0x15b)+_0x2ebaa2['id']+_0x213cfb(0x18a)+(getPinned()['includes'](_0x2ebaa2['id'])?'üìå':'üìç')+_0x213cfb(0x17c)+(_0x2ebaa2[_0x213cfb(0x16c)]&&Object[_0x213cfb(0x1a8)](_0x2ebaa2[_0x213cfb(0x16c)])[_0x213cfb(0x169)]>0x0?_0x213cfb(0x18f)+Object[_0x213cfb(0x192)](_0x2ebaa2[_0x213cfb(0x16c)])[_0x213cfb(0x145)](_0x106408=>_0x213cfb(0x152)+_0x106408[_0x213cfb(0x187)]+_0x213cfb(0x1b8)+formatTimestamp(_0x106408[_0x213cfb(0x1ad)])+_0x213cfb(0x186)+_0x106408[_0x213cfb(0x19f)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x213cfb(0x185)]('')+_0x213cfb(0x1a2):'')+_0x213cfb(0x184);})[_0x2a27d4(0x185)]('');}function formatTimestamp(_0x13011c){const _0x1fbc8d=_0x4e9409,_0x41296d=new Date(_0x13011c),_0x263375=new Date(),_0x1e440e=_0x263375-_0x41296d,_0x4d7ac1=Math[_0x1fbc8d(0x143)](_0x1e440e/0xea60),_0x31a245=Math[_0x1fbc8d(0x143)](_0x1e440e/0x36ee80),_0xbdee65=Math[_0x1fbc8d(0x143)](_0x1e440e/0x5265c00);if(_0x4d7ac1<0x1)return _0x1fbc8d(0x196);if(_0x4d7ac1<0x3c)return _0x4d7ac1+_0x1fbc8d(0x1a7);if(_0x31a245<0x18)return _0x31a245+_0x1fbc8d(0x118);if(_0xbdee65<0x7)return _0xbdee65+'d\x20ago';return _0x41296d[_0x1fbc8d(0x16b)](_0x1fbc8d(0x161),{'month':_0x1fbc8d(0x135),'day':_0x1fbc8d(0x14b)});}function _0x24ca(){const _0x355203=['now','submit','composeToggle','m\x20ago','keys','max','classList','composeArea','composeForm','timestamp','15310359bZNkGr','usernameSubmit','repeat','dearYouUsername','dearYouReactions','\x20day','usernameInput','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-expires\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚è∞\x20Expires\x20in\x20','reactions','Error\x20removing\x20reaction:','\x20¬∑\x20','Error\x20deleting\x20expired\x20message:','includes','value','108OFpkKp','h\x20ago','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-icon\x20','add','filterPanel','expiryDays','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','composeMode','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22arrow\x22>‚Üí</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20sending\x20reply:','11NUylBx','</span>','21WkNhcp','\x27)\x22>‚Ü©Ô∏è</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-icon\x20','getElementById','searchInput','</option>','Reply\x20to\x20','entries','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-card\x20','\x27,\x20\x27üëç\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20üëç\x20<span\x20class=\x22reaction-count\x22>','toLowerCase','messageInput','createObjectURL','change','none','trim','<span\x20class=\x22message-tag\x22>','short','280152OTgvzv','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-timestamp\x22>','click','_üëç','true','\x22\x20data-id=\x22','textContent','tagSelect','usernameModal','preventDefault','checked','dearyou-99de6.firebaseapp.com','addEventListener','floor','focus','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x22>','dearyou-99de6','text/plain','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-icon\x22\x20onclick=\x22reply(\x27','display','numeric','Error\x20adding\x20reaction:','sort','filterName','getItem','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-icon\x20','1:783973697706:web:50a2380766568a39ece8d3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22reply-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22reply-header\x22>','462448IgXveQ','exportBtn','<option\x20value=\x22\x22>All\x20Users</option>','forEach','innerHTML','8250915jzRkhn','href','\x27,\x20\x27‚ù§Ô∏è\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‚ù§Ô∏è\x20<span\x20class=\x22reaction-count\x22>','\x22\x20onclick=\x22togglePin(\x27','error','messages/','.txt','setItem','filterTag','en-US','random','\x27,\x20\x27üòä\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20üòä\x20<span\x20class=\x22reaction-count\x22>','catch','revokeObjectURL','From:\x20','style','14202168ImNOqp','length','reactions/','toLocaleDateString','replies','react','download','toggle','\x0aReplies:\x0a','2CtUELw','reply','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-meta\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-names\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','16718230lbiZCr','Failed\x20to\x20send\x20reply.\x20Please\x20check\x20your\x20Firebase\x20database\x20rules.','push','innerWidth','AIzaSyAS_hTAHk01qAVF0mSODHXB3fzUdoZ1ugI','parse','https://dearyou-99de6-default-rtdb.europe-west1.firebasedatabase.app','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toInput','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentUser','input','menuBtn','\x22\x20onclick=\x22react(\x27','tag','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','join','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22reply-content\x22>','from','togglePin','filter','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollHeight','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','messagesContainer','smooth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22replies\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dearyou-99de6.firebasestorage.app','pinned','values','expiryCheck','Error\x20sending\x20message:','cancelReply','Just\x20now','active','stringify','_‚ù§Ô∏è','remove','ceil','pinnedMessages','1724762Htrecx','DearYou\x20Messages\x20Export\x0a','message','messages','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','New\x20Message'];_0x24ca=function(){return _0x355203;};return _0x24ca();}window[_0x4e9409(0x16d)]=(_0x30a1bf,_0x210f8e)=>{const _0x4a5389=_0x4e9409,_0x951474=JSON[_0x4a5389(0x179)](localStorage[_0x4a5389(0x14f)](_0x4a5389(0x1b2))||'{}'),_0x25b4b2=_0x30a1bf+'_'+_0x210f8e,_0x281d42=messages[_0x30a1bf]?.[_0x4a5389(0x1b6)]?.[_0x210f8e]||0x0;_0x951474[_0x25b4b2]?(update(ref(db,_0x4a5389(0x15d)+_0x30a1bf),{[_0x4a5389(0x16a)+_0x210f8e]:Math[_0x4a5389(0x1a9)](0x0,_0x281d42-0x1)})[_0x4a5389(0x164)](_0x296eda=>{const _0x3c4bbe=_0x4a5389;console[_0x3c4bbe(0x15c)](_0x3c4bbe(0x1b7),_0x296eda);}),delete _0x951474[_0x25b4b2]):(update(ref(db,_0x4a5389(0x15d)+_0x30a1bf),{[_0x4a5389(0x16a)+_0x210f8e]:_0x281d42+0x1})[_0x4a5389(0x164)](_0x12121e=>{const _0x5ce345=_0x4a5389;console[_0x5ce345(0x15c)](_0x5ce345(0x14c),_0x12121e);}),_0x951474[_0x25b4b2]=!![]),localStorage[_0x4a5389(0x15f)](_0x4a5389(0x1b2),JSON[_0x4a5389(0x198)](_0x951474));},window[_0x4e9409(0x172)]=_0x52d34e=>{const _0x8d04b3=_0x4e9409;replyingTo=_0x52d34e;const _0x3b7590=messages[_0x52d34e];document[_0x8d04b3(0x126)](_0x8d04b3(0x11f))[_0x8d04b3(0x13c)]=_0x8d04b3(0x129)+_0x3b7590[_0x8d04b3(0x187)],document[_0x8d04b3(0x126)]('cancelReply')['style']['display']='block',document[_0x8d04b3(0x126)](_0x8d04b3(0x17d))['value']=_0x3b7590[_0x8d04b3(0x187)],document[_0x8d04b3(0x126)]('messageInput')[_0x8d04b3(0x144)](),window[_0x8d04b3(0x177)]<=0x300&&(composeArea[_0x8d04b3(0x1aa)]['add'](_0x8d04b3(0x197)),composeBackdrop['classList'][_0x8d04b3(0x11a)]('active'),composeToggle[_0x8d04b3(0x13c)]='‚Üì'),window['scrollTo'](0x0,document['body'][_0x8d04b3(0x18b)]);};function getPinned(){const _0x225bfc=_0x4e9409;return JSON[_0x225bfc(0x179)](localStorage[_0x225bfc(0x14f)]('pinnedMessages')||'[]');}window[_0x4e9409(0x188)]=_0x419ad3=>{const _0xcfbfc8=_0x4e9409;let _0x511ba4=getPinned();_0x511ba4[_0xcfbfc8(0x1ba)](_0x419ad3)?_0x511ba4=_0x511ba4[_0xcfbfc8(0x189)](_0x516f9e=>_0x516f9e!==_0x419ad3):_0x511ba4[_0xcfbfc8(0x176)](_0x419ad3),localStorage[_0xcfbfc8(0x15f)](_0xcfbfc8(0x19c),JSON[_0xcfbfc8(0x198)](_0x511ba4)),renderMessages();},document[_0x4e9409(0x126)](_0x4e9409(0x154))[_0x4e9409(0x142)]('click',()=>{const _0x36748a=_0x4e9409;let _0x269422=_0x36748a(0x19e);_0x269422+='‚ïê'[_0x36748a(0x1b0)](0x32)+'\x0a\x0a',Object[_0x36748a(0x192)](messages)[_0x36748a(0x156)](_0x5e20d2=>{const _0x36a02a=_0x36748a;_0x269422+=_0x36a02a(0x166)+_0x5e20d2[_0x36a02a(0x187)]+'\x0a',_0x269422+='To:\x20'+_0x5e20d2['to']+'\x0a';if(_0x5e20d2['tag'])_0x269422+='Category:\x20'+_0x5e20d2[_0x36a02a(0x183)]+'\x0a';_0x269422+='Date:\x20'+new Date(_0x5e20d2[_0x36a02a(0x1ad)])[_0x36a02a(0x1a1)]()+'\x0a',_0x269422+='\x0a'+_0x5e20d2[_0x36a02a(0x19f)]+'\x0a',_0x5e20d2[_0x36a02a(0x16c)]&&Object[_0x36a02a(0x1a8)](_0x5e20d2[_0x36a02a(0x16c)])[_0x36a02a(0x169)]>0x0&&(_0x269422+=_0x36a02a(0x170),Object[_0x36a02a(0x192)](_0x5e20d2['replies'])[_0x36a02a(0x156)](_0x20c0a9=>{const _0x296534=_0x36a02a;_0x269422+='\x20\x20'+_0x20c0a9['from']+'\x20('+new Date(_0x20c0a9[_0x296534(0x1ad)])[_0x296534(0x1a1)]()+'):\x0a\x20\x20'+_0x20c0a9['message']+'\x0a';})),_0x269422+='\x0a'+'‚îÄ'[_0x36a02a(0x1b0)](0x32)+'\x0a\x0a';});const _0x489b36=new Blob([_0x269422],{'type':_0x36748a(0x148)}),_0x1c5c55=URL[_0x36748a(0x130)](_0x489b36),_0x19d2a2=document[_0x36748a(0x12b)]('a');_0x19d2a2[_0x36748a(0x159)]=_0x1c5c55,_0x19d2a2[_0x36748a(0x16e)]='dearyou-export-'+Date[_0x36748a(0x1a4)]()+_0x36748a(0x15e),_0x19d2a2[_0x36748a(0x138)](),URL[_0x36748a(0x165)](_0x1c5c55);});function updateNameFilter(){const _0x2ebead=_0x4e9409,_0x37f01e=new Set();Object[_0x2ebead(0x192)](messages)[_0x2ebead(0x156)](_0x1cf796=>{const _0x17ac40=_0x2ebead;_0x37f01e[_0x17ac40(0x11a)](_0x1cf796['from']),_0x37f01e[_0x17ac40(0x11a)](_0x1cf796['to']);});const _0x348185=document[_0x2ebead(0x126)](_0x2ebead(0x14e)),_0x58fc43=_0x348185[_0x2ebead(0x1bb)];_0x348185[_0x2ebead(0x157)]=_0x2ebead(0x155),Array[_0x2ebead(0x187)](_0x37f01e)[_0x2ebead(0x14d)]()[_0x2ebead(0x156)](_0x5b4f11=>{const _0x2e0690=_0x2ebead;_0x348185[_0x2e0690(0x157)]+='<option\x20value=\x22'+_0x5b4f11+'\x22>'+_0x5b4f11+_0x2e0690(0x128);}),_0x348185[_0x2ebead(0x1bb)]=_0x58fc43;}function _0x2081(_0x1c6c98,_0x128323){const _0x24ca04=_0x24ca();return _0x2081=function(_0x208145,_0x24ba6a){_0x208145=_0x208145-0x117;let _0x38dcc6=_0x24ca04[_0x208145];return _0x38dcc6;},_0x2081(_0x1c6c98,_0x128323);}document[_0x4e9409(0x126)]('searchInput')['addEventListener'](_0x4e9409(0x180),renderMessages),document['getElementById']('sortSelect')[_0x4e9409(0x142)]('change',renderMessages),document[_0x4e9409(0x126)](_0x4e9409(0x14e))[_0x4e9409(0x142)](_0x4e9409(0x131),renderMessages),document['getElementById']('filterTag')[_0x4e9409(0x142)]('change',renderMessages);
  </script>
</body>
</html>

